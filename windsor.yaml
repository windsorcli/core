version: v1alpha1
contexts:
  local:
    docker:
      enabled: true
      registries:
        gcr.io:
          remote: https://gcr.io
        ghcr.io:
          remote: https://ghcr.io
        quay.io:
          remote: https://quay.io
        registry-1.docker.io:
          remote: https://registry-1.docker.io
          local: https://docker.io
        registry.k8s.io:
          remote: https://registry.k8s.io
        registry.test: {}
    git:
      livereload:
        enabled: true
        rsync_exclude: .windsor,.terraform,data,.volumes,.venv
        rsync_protect: flux-system
        username: local
        password: local
        webhook_url: http://flux-webhook.test:8080/hook/216e5ada00ea684e0f694bcccf491d204baba6840e615c4f065ac085552af878
        verify_ssl: false
        image: ghcr.io/windsorcli/git-livereload:v0.1.1
    terraform:
      enabled: true
      backend: local
    vm:
      driver: docker-desktop
    cluster:
      enabled: true
      driver: talos
      controlplanes:
        count: 1
        cpu: 2
        memory: 2
      workers:
        count: 1
        cpu: 4
        memory: 4
      nodeports:
      - 8080:30080/tcp
      - 8443:30443/tcp
    dns:
      enabled: true
      domain: test
      records:
      - 127.0.0.1 flux-webhook.test
