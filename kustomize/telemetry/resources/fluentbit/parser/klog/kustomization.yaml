apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component

# klog parser for Kubernetes system components
# Matches: kube-apiserver, kube-controller-manager, kube-scheduler, kube-proxy, etc.
# Format: I0123 19:30:55.954002 1 file.go:356] message

resources:
  - fluentbit-clusterfilter.yaml

configMapGenerator:
  - name: fluent-bit-klog-config
    namespace: system-telemetry
    files:
      - klog.lua
    options:
      disableNameSuffixHash: true
