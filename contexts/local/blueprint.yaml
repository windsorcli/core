kind: Blueprint
apiVersion: blueprints.windsorcli.dev/v1alpha1
metadata:
  name: local
  description: This blueprint outlines resources in the local context
repository:
  url: http://git.test/git/core
  ref:
    branch: main
  secretName: flux-system
sources:
- name: core
  url: github.com/windsorcli/core
  ref:
    tag: v0.1.2
terraform:
- source: core
  path: cluster/talos
- source: core
  path: gitops/flux
kustomize:
- name: local
  path: ""
- name: ingress-base
  path: ingress/base
  components:
  - nginx
  - nginx/nodeport
- name: gitops
  path: gitops/flux
  dependsOn:
  - ingress-base
  components:
  - webhook
  - webhook/nodeport

